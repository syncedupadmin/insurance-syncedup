<!DOCTYPE html>
<html>
<head>
    <link rel="canonical" href="https://insurance.syncedupsolutions.com/dashboard" />
    <script>
        (function() {
          const token = localStorage.getItem('syncedup_token');
          const user  = JSON.parse(localStorage.getItem('syncedup_user') || '{}');
          const normalize = r => ({'super-admin':'super_admin','customer-service':'customer_service'}[r] || r);
          const role = normalize(user.role || '');
          const allowed = ['agent','manager','admin','super_admin','customer_service'];

          if (!token || !role) { window.location.href = '/login'; return; }
          if (!allowed.includes(role)) { window.location.href = '/login'; return; }
          
          if (role === 'super_admin') {
              window.location.href = '/super-admin';
          } else if (role === 'admin') {
              window.location.href = '/admin'; // admin folder exists
          } else if (role === 'manager') {
              window.location.href = '/manager'; // manager folder exists
          } else {
              window.location.href = '/agent'; // agent folder exists
          }
        })();
    </script>
</head>
<body>
    <p>Loading dashboard...</p>
</body>
</html>
